package tests

import (
	"github.com/Virepri/adventofcode-2019/solutions"
	chk "gopkg.in/check.v1"
)

type Day10TestSuite struct{}
var _ = chk.Suite(&Day10TestSuite{})

func (s *Day10TestSuite) TestDay10Part1(c *chk.C) {
	inputs := []struct{
		inputMap string
		result string
	}{
		{
			inputMap:  `.#..#
						.....
						#####
						....#
						...##`,
		   	result: "8",
		},
		{
			inputMap:  `......#.#.
						#..#.#....
						..#######.
						.#.#.###..
						.#..#.....
						..#....#.#
						#..#....#.
						.##.#..###
						##...#..#.
						.#....####`,
			result: "33",
		},
		{
			inputMap:  `#.#...#.#.
						.###....#.
						.#....#...
						##.#.#.#.#
						....#.#.#.
						.##..###.#
						..#...##..
						..##....##
						......#...
						.####.###.`,
			result: "35",
		},
		{
			inputMap:  `.#..#..###
						####.###.#
						....###.#.
						..###.##.#
						##.##.#.#.
						....###..#
						..#.#..#.#
						#..#.#.###
						.##...##.#
						.....#.#..`,
			result: "41",
		},
		{
			inputMap:  `.#..##.###...#######
						##.############..##.
						.#.######.########.#
						.###.#######.####.#.
						#####.##.#.##.###.##
						..#####..#.#########
						####################
						#.####....###.#.#.##
						##.#################
						#####.##.###..####..
						..######..##.#######
						####.##.####...##..#
						.#####..#.######.###
						##...#.##########...
						#.##########.#######
						.####.#.###.###.#.##
						....##.##.###..#####
						.#.#.###########.###
						#.#.#.#####.####.###
						###.##.####.##.#..##`,
			result: `210`,
		},
	}

	for _,v := range inputs {
		dummyInput := solutions.Day10Input{}
		dummyInput.Prepare(v.inputMap)

		result := dummyInput.Part1()
		c.Log("Got ", result, " Expected ", v.result)
		c.Assert(result, chk.Equals, v.result)
	}
}

func (s *Day10TestSuite) TestDay10Part2(c *chk.C) {
	dummyInput := solutions.Day10Input{}
	dummyInput.Prepare(`.#..##.###...#######
##.############..##.
.#.######.########.#
.###.#######.####.#.
#####.##.#.##.###.##
..#####..#.#########
####################
#.####....###.#.#.##
##.#################
#####.##.###..####..
..######..##.#######
####.##.####...##..#
.#####..#.######.###
##...#.####X#####...
#.##########.#######
.####.#.###.###.#.##
....##.##.###..#####
.#.#.###########.###
#.#.#.#####.####.###
###.##.####.##.#..##`)

	c.Assert(dummyInput.Part2(), chk.Equals, "802")
}